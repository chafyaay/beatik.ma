<div class="card-container" [ngSwitch]="typeOfType">
  <ng-container *ngSwitchCase="'home'">
    <ng-template *ngTemplateOutlet="card; context: {implicit:'hello' }"></ng-template>
  </ng-container>
  <ng-container *ngSwitchCase="'cart'">
    <ng-template *ngTemplateOutlet="card; context: 'jjj'"></ng-template>
  </ng-container>
</div>


<ng-template #card let-context="eee">
  --- {{context}}
  <div class="prd-image" [style.background-image]="'url(' +  product.images[0] + ')'">
    <div class="prommo" *ngIf="product.discount">
      {{product.discount}} % Off
    </div>
  </div>
  <div>
    <div class="title">{{product.brand}}, {{product.pname}}</div>
    <app-star-review [reviews]="product.reviews"></app-star-review>

    <div class="price" [ngClass]="{'discounted':product.discount}">
      <div class="new" *ngIf="product.discount">{{getDiscountedPrice()}} DHS</div>
      <span style="margin:0 .2rem">/</span>
      <div class="old"> {{product.price}} DHS</div>
    </div>

    <div class="stock" [ngSwitch]="product.stock>0" [ngClass]="product.stock>0?'in':'out'">
      <ng-template [ngSwitchCase]="true">En Stock</ng-template>
      <ng-template [ngSwitchCase]="false">Epuis√©</ng-template>
    </div>
    <div class="footer">
      <button class="btn primary" [disabled]="product.stock<=0" (click)="addTocart()">Achetez</button>
      <button class="btn secondary details" [disabled]="product.stock<=0" (click)="addTocart()">Plus de details</button>
    </div>
  </div>
</ng-template>